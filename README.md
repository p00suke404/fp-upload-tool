# fp-upload-tool
# Lambda: S3署名付きURL発行API

このリポジトリは、AWS Lambda 上で動作する「S3署名付きURL発行API」のコードを格納しています。

## ✅ 概要

指定されたファイル名・バケットに対し、PUT用の署名付きURLを生成して返すAPIです。  
iPhoneのショートカットアプリなどから利用し、S3に直接ファイルをアップロードできます。

## 🗂 ファイル構成




## 📱 iPhoneショートカットからの連携例

このLambdaは、iPhoneの「ショートカット」アプリからHTTPリクエストを送ることで、S3にファイルを直接アップロードする用途を想定しています。

### ショートカットの概要

1. LambdaのAPI Gatewayエンドポイントにリクエストを送信し、署名付きURLを取得
2. `Get contents of URL` アクションで、そのURLにPUTリクエスト
3. S3にファイルが直接保存される

### 必要なショートカット構成

- `ファイルを選択`：アップロードするマネーフォワードCSVファイルを選択
- `URL`：APIのURL
- `URLの内容を取得`：（GET）リクエスト送信
- `辞書の値を取得`：リクエスト結果から署名付きURLを取得
- `URLの内容を取得`：（PUT）S3へのファイルアップロード

### 📸 参考画像・サンプル

必要に応じて、以下のような画像やリンクを付けてもOK：

- [ショートカット画面のスクショ](ショートカット画像URL)
- [ショートカットの共有リンク（iCloudリンク）](iCloudリンク)